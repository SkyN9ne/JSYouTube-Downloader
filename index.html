<!DOCTYPE HTML>
<html>
    <head>
        <link id='icon' rel="icon" href="/favicon.ico" type="image/icon type">
        <style>
            .btn {
                display: inline-block;
                font-size: 48px;
                margin-bottom: 3rem;
                color: #000000;
                background-color: #ffffff;
                border-color: #000000;
                border-style: solid;
                border-width: 1px;
                border-radius: 0.3rem;
                transition: color 0.2s, background-color 0.2s, border-color 0.2s;
                padding: 12px;
            }
            span {
                background-color: #ffffff;
                padding: 12px;
            }
        </style>
        <title>Youtube Downloader</title>
        <meta charset='utf-8'>
    </head>
    <body>
        <center>
            <br><br>
            <a href="javascript:(function(){;async%20function%20getSigFunc()%7Btry%7Bfor(var%20response=await%20fetch(%22https://www.youtube.com/%22),body=await%20response.text(),a=body.split(%22base.js%22)%5B0%5D,b=a.split(%22/s/player/%22).pop(),ytBaseLink=%22https://www.youtube.com/s/player/%22+b+%22base.js%22,a=await%20fetch(ytBaseLink),body=await%20a.text(),func1=body.split('a=a.split(%22%22)').pop().split(%22%7D%22)%5B0%5D,mainFunc=eval('(function()%20%7Breturn%20function(a)%20%7Ba=a.split(%22%22)'+func1+%22%7D%7D)();%22),varibaleName=func1.split(%22.%22)%5B0%5D.split(%22;%22).pop(),func1=func1.replaceAll(varibaleName+%22.%22,%22%22),modules=func1.split(%22;%22),i=0;i%3Cmodules.length;i++)modules%5Bi%5D=modules%5Bi%5D.split(%22(%22)%5B0%5D;modules.splice(modules.length-1,1),modules.splice(0,1);for(var%20a=%5B%5D,i=0;i%3Cmodules.length;i++)a.includes(modules%5Bi%5D)%7C%7Ca.push(modules%5Bi%5D);var%20p=%7B%7D;p.mainFunc=mainFunc,p.varName=varibaleName;for(var%20i=0;i%3Ca.length;i++)%7Bvar%20y=body.split(a%5Bi%5D+%22:function%22).pop().split(%22%7D%22)%5B0%5D,c=%22function%20%22+y+%22%7D%22;p%5Ba%5Bi%5D%5D=eval(%22(function()%20%7Breturn%20%22+c+%22%7D)();%22)%7D%7Dcatch(e)%7Breturn%20alert(%22%5Bytdl%5D%20Error%20Getting%20decryption%20function%22),e%7Dreturn%20p%7Dasync%20function%20decryptURL(e)%7Bwindow.yt_decrypt_function_loaded%7C%7C(t=await%20getSigFunc(),window%5Bt.varName%5D=t,window.yt_decrypt_function_loaded=!0,window.decryptSig=t.mainFunc);for(var%20t,i=e.split(%22&%22),a=%7B%7D,n=0;n%3Ci.length;n++)%7Bvar%20o=i%5Bn%5D.split(%22=%22);a%5Bo%5B0%5D%5D=o%5B1%5D%7Dreturn%20a.s=decodeURIComponent(a.s),a.url=decodeURIComponent(a.url),a.url+%22&%22+a.sp+%22=%22+decryptSig(a.s)%7D!async%20function()%7Bif(%22www.youtube.com%22!==window.location.host&&%22youtube.com%22!==window.location.host)alert(%22%5Bytdl%5D%20Only%20works%20on%20youtube%22);else%7Bconst%20version=%223.0%22;var%20ytlink=window.location.href,videoID=ytlink.split(%22v=%22).pop().split(%22&%22)%5B0%5D,info,info,info;if(ytlink.includes(%22v=%22)%7C%7Cytlink.includes(%22/channel/%22)%7C%7Cytlink.includes(%22/c/%22)%7C%7Cytlink.includes(%22/user/%22)%7C%7Cytlink.includes(%22list=%22))%7Bif(String.prototype.replaceAll%7C%7C(String.prototype.replaceAll=function(e,t)%7Breturn%20this.split(e).join(t)%7D),!async%20function()%7Btry%7Bvar%20e=await(await%20fetch(%22https://raw.githack.com/ethanaobrien/youtube-downloader/main/version.json%22)).text(),t=JSON.parse(e)%7Dcatch(e)%7Breturn%7Dt%3Ct.current_version&&(alert(%22%5Bytdl%5D%20You%20have%20version%20%22+t+%22%20but%20the%20newest%20version%20is%20%22+t.current_version),confirm(%22%5Bytdl%5D%20Do%20you%20want%20to%20update?%20(Github%20Pages%20will%20open)%22)&&window.open(%22https://ethanaobrien.github.io/youtube-downloader/index.html%22))%7D(),1===ytlink.split(%22v=%22).length)return%201!==ytlink.split(%22list=%22).length?playlist(ytlink.split(%22list=%22).pop().split(%22&%22)%5B0%5D):membersOnlyPlaylist();if(%22function%22==typeof%20getPageData)%7Bvar%20info=getPageData().data.playerResponse;if(info&&%22undefined%22!=info&&videoID==info.videoDetails.videoId)return%20gotVideoInfo(info)%7Delse%20if(%22function%22==typeof%20window.getPageData)%7Bvar%20info=getPageData().data.playerResponse;if(info&&%22undefined%22!=info&&videoID==info.videoDetails.videoId)return%20gotVideoInfo(info)%7Dif(info=%22undefined%22!=typeof%20ytInitialPlayerResponse?ytInitialPlayerResponse:void%200!==window.ytInitialPlayerResponse?window.ytInitialPlayerResponse:%7BvideoDetails:%7BvideoId:void%200%7D%7D,videoID!=info.videoDetails.videoId)try%7Bvar%20response=await%20window.fetch(ytlink),body=await%20response.text(),scriptPt1=body.split(%22%3Cscript%22+body.split(%22var%20ytInitialPlayerResponse%20=%20%22)%5B0%5D.split(%22%3Cscript%22).pop()+%22var%20ytInitialPlayerResponse%20=%20%22)%5B1%5D.split(%22%3C%5C/script%3E%22)%5B0%5D;gotVideoInfo(eval(%22(function()%20%7Breturn%20%22+scriptPt1+%22%7D)();%22))%7Dcatch(e)%7Breturn%20error(e)%7Delse%20gotVideoInfo(info)%7Delse%20alert(%22%5Bytdl%5D%20Please%20open%20a%20video%22);function%20error(e)%7Bconsole.error(e),alert(%22%5Bytdl%5D%20Please%20reload%20page%20and%20try%20again%22)%7Dasync%20function%20playlist(id)%7Bvar%20asd=document.createElement(%22div%22),iwindow=window.open(URL.createObjectURL(new%20Blob(%5Bnew%20Uint8Array(%5B239,187,191%5D),'%3Cp%3EPlease%20wait,%20progress:%20%3Cdiv%20id=%22progress%22%3Efetching%20main%20page%3C/div%3E'%5D,%7Btype:%22text/html;%20chartset=utf-8%22%7D)),%22Download%22,%22width=600,height=600%22);try%7Bvar%20mainPage=await%20fetch(%22https://www.youtube.com/playlist?list=%22+id),body=await%20mainPage.text(),pageInfo=body.split(%22%3Cscript%22+body.split(%22var%20ytInitialData%20=%20%22)%5B0%5D.split(%22%3Cscript%22).pop()+%22var%20ytInitialData%20=%20%22)%5B1%5D.split(%22%3C%5C/script%3E%22)%5B0%5D,pageInfo=eval(%22(function()%20%7Breturn%20%22+pageInfo+%22%7D)();%22),info=pageInfo.contents.twoColumnBrowseResultsRenderer.tabs%5B0%5D.tabRenderer.content.sectionListRenderer.contents%5B0%5D.itemSectionRenderer.contents%5B0%5D.playlistVideoListRenderer.contents%7Dcatch(e)%7Breturn%20iwindow.document.getElementById(%22progress%22).innerHTML=%22Error%22,void%20error(e)%7Dvar%20baseURL=%22https://www.youtube.com/watch?v=%22,blobData=%22%3Cp%3EYouTube%20Downloader%20Version%20%22+version+%22%3C/p%3E%5Cn%5Cn%3Cp%3ETitle:%20%22+pageInfo.metadata.playlistMetadataRenderer.title+%22%3C/p%3E%5Cn%5Cn%22,script=(blobData+=%22%3Cstyle%3Ediz%20%7Bwidth:%20119px;%20border:%20solid%201px;%20float:%20left;%20padding:%2010px%200;%7D%3C/style%3E%5Cn%22,document.createElement(%22script%22));script.innerHTML='function%20updateUI(e)%20%7Bvar%20a=document.getElementsByName(%22a%22);var%20b=document.getElementsByName(%22b%22);var%20c=document.getElementsByName(%22c%22);for%20(var%20i=0;%20i%3Ca.length;%20i++)%20%7Bif%20(e%20==%20%22a%22)%20%7Ba%5Bi%5D.style=%22display:block;%22;%7D%20else%20%7Ba%5Bi%5D.style=%22display:none;%22;%7D;%7D;for%20(var%20i=0;%20i%3Cb.length;%20i++)%20%7Bif%20(e%20==%20%22b%22)%20%7Bb%5Bi%5D.style=%22display:block;%22;%7D%20else%20%7Bb%5Bi%5D.style=%22display:none;%22;%7D;%7D;for%20(var%20i=0;%20i%3Cc.length;%20i++)%20%7Bif%20(e%20==%20%22c%22)%20%7Bc%5Bi%5D.style=%22display:block;%22;%7D%20else%20%7Bc%5Bi%5D.style=%22display:none;%22;%7D;%7D;%7D;function%20updateUIa()%20%7BupdateUI(%22a%22)%7D;function%20updateUIb()%20%7BupdateUI(%22b%22)%7D;function%20updateUIc()%20%7BupdateUI(%22c%22)%7D;%5Cn',asd.appendChild(script),blobData+='%3Cnav%20style=%22text-align:%20center;%22%3E%3Ca%20href=%22javascript:void(0);%22%20onClick=%22javascript:updateUIa()%22%3E%3Cdiz%3EVideo%20&%20Audio%3C/diz%3E%3C/a%3E%3Ca%20href=%22javascript:void(0);%22%20onClick=%22javascript:updateUIb()%22%3E%3Cdiz%3EOnly%20Video%3C/diz%3E%3C/a%3E%3Ca%20href=%22javascript:void(0);%22%20onClick=%22javascript:updateUIc()%22%3E%3Cdiz%3EOnly%20Audio%3C/diz%3E%3C/a%3E%3C/nav%3E%5Cn%3Cbr%3E%3Cbr%3E%3Cbr%3E%5Cn',iwindow.document.getElementById(%22progress%22).innerHTML=%22Downloading%200/%22+info.length;for(var%20q=0;q%3Cinfo.length;q++)%7Bvar%20error=!1,videoNum=q+1;try%7Bvar%20page=await%20fetch(baseURL+info%5Bq%5D.playlistVideoRenderer.videoId),body=await%20page.text(),body=body.split(%22%3Cscript%22+body.split(%22var%20ytInitialPlayerResponse%20=%20%22)%5B0%5D.split(%22%3Cscript%22).pop()+%22var%20ytInitialPlayerResponse%20=%20%22)%5B1%5D.split(%22%3C%5C/script%3E%22)%5B0%5D,pageInfo=eval(%22(function()%20%7Breturn%20%22+body+%22%7D)();%22),urls=pageInfo.streamingData.formats,adaptiveUrls=pageInfo.streamingData.adaptiveFormats,videoTitle=pageInfo.videoDetails.title%7Dcatch(e)%7Bvar%20error=!0;blobData+=%22%3Cp%3EVideo%20%22+videoNum+%22:%20error%20fetching%20or%20parsing%20data%3C/p%3E%22%7Dif(!error)%7BblobData+=%22%3Cp%3EVideo%20%22+videoNum+%22:%20%22+videoTitle+%22%3C/p%3E%5Cn%22;for(var%20hasEncrypted=!1,i=0;i%3Curls.length;i++)%7Bvar%20a=urls%5Bi%5D.cipher%7C%7Curls%5Bi%5D.signatureCipher,hasEncrypted;a&&(hasEncrypted=!0,urls%5Bi%5D.url=await%20decryptURL(a))%7Dfor(var%20i=0;i%3CadaptiveUrls.length;i++)%7Bvar%20a=adaptiveUrls%5Bi%5D.cipher%7C%7CadaptiveUrls%5Bi%5D.signatureCipher,hasEncrypted;a&&(hasEncrypted=!0,adaptiveUrls%5Bi%5D.url=await%20decryptURL(a))%7Dif(hasEncrypted&&(blobData+=%22%5Cn%3Cp%3EURLs%20may%20not%20work,%20report%20an%20issue%20if%20it%20does%20not%20work.%3C/p%3E%5Cn%22),!error)%7BblobData+='%3Cdiv%20name=%22a%22%3E';for(var%20i=0;i%3Curls.length;i++)blobData+=%22%3Cp%3EQuality:%20%22+urls%5Bi%5D.qualityLabel+%22;%20fps:%20%22+urls%5Bi%5D.fps+%22;%20Mimetype:%20%22+urls%5Bi%5D.mimeType.split(%22;%22)%5B0%5D+';%20Url:%20%3Ca%20target=%22_blank%22%20href=%22'+urls%5Bi%5D.url+'%22%3EOpen%3C/a%3E%20%3Ca%20target=%22_blank%22%20href=%22'+urls%5Bi%5D.url+%22&title=%22+videoTitle.replaceAll(%22%20%22,%22+%22)+'%22%3EDownload%3C/a%3E%3C/p%3E%5Cn';blobData+=%22%3C/div%3E%5Cn%22,blobData+='%3Cdiv%20name=%22b%22%20style=%22display:none;%22%3E',blobData+=%22%5Cn%22;for(var%20i=0;i%3CadaptiveUrls.length;i++)%22video%22==adaptiveUrls%5Bi%5D.mimeType.split(%22/%22)%5B0%5D&&(blobData+=%22%3Cp%3EQuality:%20%22+adaptiveUrls%5Bi%5D.qualityLabel+%22;%20fps:%20%22+adaptiveUrls%5Bi%5D.fps+%22;%20Mimetype:%20%22+adaptiveUrls%5Bi%5D.mimeType.split(%22;%22)%5B0%5D+';%20Url:%20%3Ca%20target=%22_blank%22%20href=%22'+adaptiveUrls%5Bi%5D.url+'%22%3EOpen%3C/a%3E%3C/p%3E%5Cn');blobData+=%22%3C/div%3E%5Cn%22,blobData+='%3Cdiv%20name=%22c%22%20style=%22display:none;%22%3E',blobData+=%22%5Cn%22;for(var%20i=0;i%3CadaptiveUrls.length;i++)%22audio%22==adaptiveUrls%5Bi%5D.mimeType.split(%22/%22)%5B0%5D&&(blobData+=%22%3Cp%3EBitrate:%20%22+adaptiveUrls%5Bi%5D.bitrate+%22;%20Mimetype:%20%22+adaptiveUrls%5Bi%5D.mimeType.split(%22;%22)%5B0%5D+';%20Url:%20%3Ca%20target=%22_blank%22%20href=%22'+adaptiveUrls%5Bi%5D.url+'%22%3EOpen%3C/a%3E%3C/p%3E%5Cn');blobData+=%22%3C/div%3E%5Cn%22,blobData+=%22%3Cbr%3E%22%7D%7Diwindow.document.getElementById(%22progress%22).innerHTML=%22Downloading%20%22+(q+1)+%22/%22+info.length%7Diwindow.document.body.innerHTML=%22%22;var%20rew=document.createElement(%22div%22);rew.innerHTML=blobData,asd.appendChild(rew),iwindow.document.body.appendChild(asd)%7Dasync%20function%20membersOnlyPlaylist()%7Bconst%20e=await%20async%20function()%7Bvar%20e=%5B%22https://www.youtube.com/channel/%22,%22http://www.youtube.com/channel/%22%5D;for(const%20a%20of%5Blocation.href%5D)for(const%20n%20of%20e)if(a&&a.startsWith(n))return%20a.split(/%5B?#%5D/)%5B0%5D.substr(n.length);const%20t=await%20fetch(location.href),i=(new%20DOMParser).parseFromString(await%20t.text(),%22text/html%22);try%7Breturn%20i.querySelector(%22meta%5Bitemprop='channelId'%5D%22).getAttribute(%22content%22)%7Dcatch(e)%7B%7D%7D();var%20t,i;e?window.open(%22https://www.youtube.com/playlist?list=UUMO%22+e.substr(2,22),%22_blank%22):(console.log(%22%5BMEMBERSHIP%20PLAYLIST%20REDIRECT%5D%20Cannot%20get%20channel%20ID%20on%20%22+location.href),void%200===(t=window.hasOwnProperty(%22ytInitialPlayerResponse%22)&&null!=window.ytInitialPlayerResponse&&window.ytInitialPlayerResponse.hasOwnProperty(%22videoDetails%22)&&window.ytInitialPlayerResponse.videoDetails.hasOwnProperty(%22channelId%22)?(console.log(%22Found%20channel%20in%20ytInitialPlayerResponse%22),window.ytInitialPlayerResponse.videoDetails.channelId):(Array.prototype.slice.call(document.getElementsByTagName(%22link%22)).forEach(function(e)%7B%22canonical%22===e.getAttribute(%22rel%22)&&(console.log(%22Found%20channel%20link%22),i=e.getAttribute(%22href%22).substr(32))%7D),i))?console.warn(%22Could%20not%20find%20a%20channel%20ID%20at%20%22+location.href):(console.log(%22Going%20to%20membership%20playlist%20URL%22),window.open(%22https://www.youtube.com/playlist?list=UUMO%22+t.substring(e.length-22),%22_blank%22)))%7Dasync%20function%20gotVideoInfo(e)%7Bif(e.streamingData)%7Btry%7Bvar%20t=e.streamingData.formats,i=e.streamingData.adaptiveFormats,a=e.videoDetails.title%7Dcatch(e)%7Breturn%20void%20error(e)%7Dfor(var%20n=!1,o=0;o%3Ct.length;o++)(r=t%5Bo%5D.cipher%7C%7Ct%5Bo%5D.signatureCipher)&&(n=!0,t%5Bo%5D.url=await%20decryptURL(r));for(var%20r,o=0;o%3Ci.length;o++)(r=i%5Bo%5D.cipher%7C%7Ci%5Bo%5D.signatureCipher)&&(n=!0,i%5Bo%5D.url=await%20decryptURL(r));var%20l=%22%3Cp%3EYouTube%20Downloader%20Version%20%22+version+%22%3C/p%3E%5Cn%5Cn%3Cp%3ETitle:%20%22+a+%22%3C/p%3E%5Cn%5Cn%22;n&&(l+=%22%3Cp%3EURLs%20may%20not%20work,%20report%20an%20issue%20if%20it%20does%20not%20work.%3C/p%3E%5Cn%22);for(o=0;o%3Ct.length;o++)l+=%22%3Cp%3EQuality:%20%22+t%5Bo%5D.qualityLabel+%22;%20fps:%20%22+t%5Bo%5D.fps+%22;%20Mimetype:%20%22+t%5Bo%5D.mimeType.split(%22;%22)%5B0%5D+';%20Url:%20%3Ca%20target=%22_blank%22%20href=%22'+t%5Bo%5D.url+'%22%3EOpen%3C/a%3E%20%3Ca%20target=%22_blank%22%20href=%22'+t%5Bo%5D.url+%22&title=%22+a.replaceAll(%22%20%22,%22+%22)+'%22%3EDownload%3C/a%3E%3C/p%3E%5Cn%5Cn';for(l=l+%22%5Cn%5Cn%5Cn%22+%22No%20Audio%22,o=0;o%3Ci.length;o++)%22video%22==i%5Bo%5D.mimeType.split(%22/%22)%5B0%5D&&(l+=%22%3Cp%3EQuality:%20%22+i%5Bo%5D.qualityLabel+%22;%20fps:%20%22+i%5Bo%5D.fps+%22;%20Mimetype:%20%22+i%5Bo%5D.mimeType.split(%22;%22)%5B0%5D+';%20Url:%20%3Ca%20target=%22_blank%22%20href=%22'+i%5Bo%5D.url+'%22%3EOpen%3C/a%3E%3C/p%3E%5Cn%5Cn');l=l+%22%5Cn%5Cn%5Cn%22+%22Only%20Audio%22;for(o=0;o%3Ci.length;o++)%22audio%22==i%5Bo%5D.mimeType.split(%22/%22)%5B0%5D&&(l+=%22%3Cp%3EBitrate:%20%22+i%5Bo%5D.bitrate+%22;%20Mimetype:%20%22+i%5Bo%5D.mimeType.split(%22;%22)%5B0%5D+';%20Url:%20%3Ca%20target=%22_blank%22%20href=%22'+i%5Bo%5D.url+'%22%3EOpen%3C/a%3E%3C/p%3E%5Cn%5Cn');e=new%20Uint8Array(%5B239,187,191%5D),e=new%20Blob(%5Be,l%5D,%7Btype:%22text/html%22%7D);window.open(URL.createObjectURL(e),%22Download%22,%22width=600,height=600%22)%7Delse%20alert(%22%5Bytdl%5D%20There%20are%20restrictions%20preventing%20you%20from%20viewing%20this%20video%22)%7D%7D%7D();;})()" class="btn" style="cursor: move;">Youtube downloader</a>
            <br><br>
            <p>Youtube Downloader version 3.0</p>
            <br>
            <p>Drag the button to the bookmark bar, open youtube, click a video, and click it</p>
            <br>
            <p><a href='https://github.com/ethanaobrien/youtube-downloader'>View on github</a>    <a href='https://github.com/ethanaobrien/youtube-downloader/issues'>Make an Issue</a></p>
        </center>
    </body>
</html>
